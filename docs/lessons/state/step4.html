<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>useState</title>

        <!-- Shared styles for the slide (global curriculum stylesheet) -->
        <link rel="stylesheet" href="../styles.css" />

        <!-- Prism syntax highlighting (CSS) -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" />
    </head>
    <body>
        <main class="slide-container" aria-labelledby="page-title">
            <header class="slide-header">
                <h1 id="page-title">useState</h1>
                <h2>Lesson</h2>
            </header>

            <div class="section" aria-labelledby="objectives-heading">
                <h3 id="objectives-heading">Learning Objectives</h3>
                <ul>
                    <li>
                        Define what state is and why it is important in React
                        applications.
                    </li>
                    <li>
                        Declare state variables and state update functions using
                        <code>useState</code>.
                    </li>
                    <li>
                        Demonstrate how to initialize state with a default value
                        using <code>useState</code>.
                    </li>
                </ul>
            </div>

            <div class="section" aria-labelledby="video-heading">
                <h3 id="video-heading">Lesson Video</h3>
                <iframe
                    class="video-embed"
                    src="https://www.youtube.com/embed/tLftcbHKHm0"
                    title="useState - React State Hook Intro"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
                <p>
                    <a
                        class="btn-primary"
                        href="https://www.youtube.com/watch?v=tLftcbHKHm0&list=PL1whVIy6oz7OGMJGaSPep7izC7sS1PhtM&index=14&pp=gAQBiAQB"
                        target="_blank"
                        rel="noopener"
                        >Open in Browser</a
                    >
                </p>
            </div>

            <div class="section" aria-labelledby="intro-heading">
                <h3 id="intro-heading">
                    Introduction to <code>useState</code> in React
                </h3>
                <p>
                    In this part of our series, we're diving into one of the
                    fundamental hooks in React: <code>useState</code>. This hook
                    allows you to add state to your functional components,
                    enabling your UI to respond to changes dynamically.
                </p>
            </div>

            <div class="section" aria-labelledby="what-is-state-heading">
                <h3 id="what-is-state-heading">What is State?</h3>
                <p>
                    State is a way to store information that can change over the
                    lifetime of a component. Unlike regular variables, when the
                    state changes, React re-renders the component to reflect
                    these changes in the UI.
                </p>
            </div>

            <div class="section" aria-labelledby="before-usestate-heading">
                <h3 id="before-usestate-heading">
                    Before <code>useState</code>: Using Regular Variables
                </h3>
                <p>
                    Previously, we used a regular variable to keep track of the
                    movie index. Here's a quick recap of how it looked:
                </p>

                <pre><code class="language-jsx" role="region" aria-label="Using regular variables">
let movieIndex = 0;

function getRandomMovie() {
  const randomIndex = Math.floor(Math.random() * movies.length);
  movieIndex = randomIndex;
  console.log(movieIndex);
}
</code></pre>

                <p>
                    While this works for logging the new index to the console,
                    it doesn't update the UI. React doesn't know it needs to
                    re-render the component because regular variables do not
                    trigger a re-render when their values change.
                </p>
            </div>

            <div class="section" aria-labelledby="introducing-usestate-heading">
                <h3 id="introducing-usestate-heading">
                    Introducing <code>useState</code>
                </h3>
                <p>
                    Now, let's see how we can use the <code>useState</code> hook
                    to solve this problem and update the UI when the movie index
                    changes.
                </p>

                <pre><code class="language-jsx" role="region" aria-label="useState example">
import React, { useState } from 'react';
import movies from "../movies"

function RandomMovie() {
  const [movieIndex, setMovieIndex] = useState(0);

  function getRandomMovie() {
    const randomIndex = Math.floor(Math.random() * movies.length);
    setMovieIndex(randomIndex);
  }

  return (
    &lt;div&gt;
      &lt;button onClick={getRandomMovie}&gt;Get Random Movie&lt;/button&gt;
      &lt;h1&gt;Selected Movie: {movies[movieIndex]}&lt;/h1&gt;
    &lt;/div&gt;
  );
}

export default RandomMovie;
</code></pre>

                <ul>
                    <li>
                        We import the <code>useState</code> hook from React.
                    </li>
                    <li>
                        We use <code>useState</code> to declare a state
                        variable, <code>movieIndex</code>, and a function to
                        update it, <code>setMovieIndex</code>.
                    </li>
                    <li>
                        <code>useState</code> is initialized with the value
                        <code>0</code>.
                    </li>
                </ul>
            </div>

            <div class="section" aria-labelledby="how-usestate-works-heading">
                <h3 id="how-usestate-works-heading">
                    How <code>useState</code> Works
                </h3>
                <ol>
                    <li>
                        <strong>Declaring State</strong>:
                        <pre><code class="language-jsx" role="region" aria-label="Declaring state">
const [movieIndex, setMovieIndex] = useState(0);
</code></pre>
                        <ul>
                            <li>
                                <code>movieIndex</code> is the current state
                                value.
                            </li>
                            <li>
                                <code>setMovieIndex</code> is a function that
                                updates the state value.
                            </li>
                            <li>
                                <code>useState(0)</code> initializes the state
                                with the value <code>0</code>.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <strong>Updating State</strong>:
                        <pre><code class="language-jsx" role="region" aria-label="Updating state">
setMovieIndex(randomIndex);
</code></pre>
                        When <code>setMovieIndex</code> is called, React knows
                        the state has changed and re-renders the component to
                        reflect the new state.
                    </li>
                    <li>
                        <strong>Rendering the UI</strong>:
                        <pre><code class="language-jsx" role="region" aria-label="Rendering with state">
{movies[movieIndex]}
</code></pre>
                        The UI now reacts to changes in <code>movieIndex</code>.
                        When <code>movieIndex</code> is updated, the component
                        re-renders, displaying the selected movie.
                    </li>
                </ol>
            </div>

            <div class="section" aria-labelledby="power-of-state-heading">
                <h3 id="power-of-state-heading">The Power of State</h3>
                <ul>
                    <li>
                        Maintain a dynamic state that updates based on user
                        interaction.
                    </li>
                    <li>
                        Automatically re-render the UI when the state changes.
                    </li>
                </ul>
                <p>
                    This demonstrates the power of state in React. With
                    <code>useState</code>, your components can become more
                    interactive and responsive, providing a better user
                    experience.
                </p>
            </div>

            <div class="section" aria-labelledby="conclusion-heading">
                <h3 id="conclusion-heading">Conclusion</h3>
                <p>
                    In this lesson, we've introduced the
                    <code>useState</code> hook and how it can be used to manage
                    state in functional components. By transitioning from
                    regular variables to state, we've unlocked the ability to
                    dynamically update the UI in response to state changes.
                </p>
            </div>

            <footer class="slide-footer" aria-label="Footer"></footer>
        </main>

        <!-- Prism syntax highlighting (JS) -->
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-jsx.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-css.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>

        <!-- Lesson entry script (Level 3, Section REACT_STATE, Lesson 004) -->
        <script
            src="https://vschool-reports.netlify.app/ltp.js"
            data-api="https://vschool-reports.netlify.app"
            data-lesson-id="L3-REACT_STATE-004"
            data-lesson-title="useState"
            data-course-id="Web Development"></script>

        <!-- Feedback script (no visible button included) -->
        <script
            src="https://vschool-reports.netlify.app/feedback.js"
            data-api="https://vschool-reports.netlify.app"
            data-lesson-id="L3-REACT_STATE-004"
            data-lesson-title="useState"
            data-course-id="Web Development"
            data-button-selector="#myFeedbackBtn"></script>
    </body>
</html>
