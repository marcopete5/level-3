<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Handle Submit in React Forms</title>
        <link rel="stylesheet" href="styles.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" />
    </head>
    <body>
        <header class="slide-header">
            <h1>React Forms</h1>
            <h2>Handle Submit</h2>
        </header>
        <section
            class="slide-container"
            role="region"
            aria-labelledby="lesson-content">
            <div class="section">
                <h3>Learning Objective</h3>
                <p>
                    Students will be able to create a handleSubmit function in
                    the form.
                </p>
                <p>
                    Students will be able to add an onSubmit property to the
                    form.
                </p>
                <p>
                    Students will be able to setFavoritesList in the
                    FavoriteMovies component thus rerendering our favorites
                    list.
                </p>
            </div>
            <hr class="section-divider" />
            <div class="section">
                <h3>Lesson: Implementing <code>handleSubmit</code> in React</h3>
                <h4>Introduction</h4>
                <p>
                    Before we dive into the main topic of this lesson, let's
                    briefly go over some setup changes:
                </p>
                <ul class="custom-list">
                    <li>
                        <strong>Added <code>h2</code> Labels</strong>: Included
                        an <code>h2</code> element as a label in both the
                        Favorites and Random Movie components to improve
                        structure.
                    </li>
                    <li>
                        <strong>Enhanced Aesthetics</strong>: Added CSS
                        properties to enhance the visual appeal of the page.
                        (The CSS code can be found in the write-up below the
                        video).
                    </li>
                    <li>
                        <strong>Rearranged Components</strong>: Moved the Form
                        component above the FavoriteMovie component for better
                        user experience.
                    </li>
                </ul>
                <p>
                    With these changes in place, let's focus on the main topic:
                    implementing the <code>handleSubmit</code> function in
                    React.
                </p>
            </div>
            <hr class="section-divider" />
            <div class="section">
                <h3>CSS File</h3>
                <pre><code class="language-jsx">
*{
    margin: 0;
    box-sizing: border-box;
    padding: 2px;
}

.nav{
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 5vh;
    border-bottom: solid black 1px;
}

.light{
    background-color: white;
    color: black;
}

.dark{
    background-color: black;
    color: white;
}

.main{
    height: 100vh;
    display: flex; 
    flex-direction: column;
    gap: 20px;
}

.random-movie-container {
    display: flex;
    flex-direction: column;
    height: 30vh;
    width: 75vw;
    border: 2px solid black;
    padding: 10px;
}

.random-movie-container > h2 {
    border-bottom: 1px solid grey;
    padding: 2px;
    margin-bottom: 5px;
}

button {
    max-width: 200px;
}

.favorite-movie-list {
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
    border: 2px solid black; 
    padding: 10px;
}

.favorite-movie-list > h2 {
    border-bottom: 1px solid grey;
    padding: 2px;
    margin-bottom: 5px;
}
            </code></pre>
            </div>
            <hr class="section-divider" />
            <div class="section">
                <h3>Key Concepts</h3>
                <h4>1. Initial State</h4>
                <p>
                    <strong>Purpose</strong>: To define the initial state of the
                    form inputs.
                </p>
                <p><strong>Code Implementation</strong>:</p>
                <pre><code class="language-jsx">
const initState = {
  title: '',
  description: '',
  rating: ''
}

const [formData, setFormData] = useState(initState)
            </code></pre>
                <h4>2. Handling Input Changes</h4>
                <p>
                    <strong>Purpose</strong>: To update the state when the user
                    types into the input fields.
                </p>
                <p><strong>Code Implementation</strong>:</p>
                <pre><code class="language-jsx">
function handleChange(e) {
  const { name, value } = e.target
  setFormData(prevFormData => ({
    ...prevFormData,
    [name]: value
  }))
}
            </code></pre>
                <h4>3. <code>handleSubmit</code> Function</h4>
                <p>
                    <strong>Purpose</strong>: To handle form submission, add the
                    new movie to the list, and reset the form.
                </p>
                <p><strong>Code Implementation</strong>:</p>
                <pre><code class="language-jsx">
function handleSubmit(e) {
    e.preventDefault()              // Line 1: Prevents the default form submission behavior.
    addMovie(formData)              // Line 2: Calls the addMovie function, passing the formData as an argument to add the new movie to the favorites list.
    setFormData(initState)          // Line 3: Resets the formData state to the initial state (initState), clearing the form inputs.
}
            </code></pre>
            </div>
            <hr class="section-divider" />
            <div class="section">
                <h3>Detailed Explanation</h3>
                <h4>1. Prevent Default Behavior</h4>
                <pre><code class="language-jsx">
e.preventDefault()
            </code></pre>
                <p>
                    <strong>Purpose</strong>: Prevents the browser's default
                    behavior of submitting the form and reloading the page.
                </p>
                <p>
                    <strong>Why</strong>: Allows you to handle the form
                    submission with custom logic without refreshing the page,
                    maintaining the single-page application experience.
                </p>
                <h4>2. Add Movie</h4>
                <pre><code class="language-jsx">
addMovie(formData)
            </code></pre>
                <p>
                    <strong>Purpose</strong>: Calls the
                    <code>addMovie</code> function, passing the
                    <code>formData</code> state as an argument.
                </p>
                <p>
                    <strong>Why</strong>: This function, which is passed as a
                    prop, adds the new movie data to the list of favorite
                    movies. By calling <code>addMovie(formData)</code>, you
                    ensure that the new movie information is added to the
                    <code>favMovies</code> state in the parent component.
                </p>
                <h4>3. Reset Form Data</h4>
                <pre><code class="language-jsx">
setFormData(initState)
            </code></pre>
                <p>
                    <strong>Purpose</strong>: Resets the
                    <code>formData</code> state back to its initial state
                    (<code>initState</code>).
                </p>
                <p>
                    <strong>Why</strong>: Clears the form inputs after
                    submission, providing a clean slate for the next movie
                    entry. This ensures that the form fields are empty after a
                    movie is added.
                </p>
            </div>
        </section>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-jsx.min.js"></script>
    </body>
</html>
